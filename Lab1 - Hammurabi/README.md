# #1: Hammurabi
Клон игры Хаммурапи, представляет собой консольное приложение.

Представлены следующие структуры:
* `Resources` — игровые ресурсы, население земля и пшеница;
* `GameState` — известное игроку состояние игры в конкретном раунде;
* `Edict` — указание правителя, что продать, сколько сеять и кормить;
* `RoundParams` — параметры для перехода между раундами;
* `Stats` — статистика, собираемая для финального результата;
* `GameSave` — сохранение, объединяет состояние и статистику игры.

Основные функции:
* `void inform( const GameState& s )` — вывод информации о текущем раунде;
* `void finish_game( const Stats& stats )` — вывод итогового результата в зависимости от статистики;
* `Edict get_edict( const GameState& s )` — запрос указаний от пользователя;
* `void save( const char* filename, const GameState& state, const Stats& stats )` — запись в файл;
* `GameSave load( const char* filename )` — загрузка сохранения из файла;
* `RoundParams new_round_params()` — генерация новых параметров случайным образом;
* `int new_land_price()` — генерация новой случайной цены на землю (в отличие от остальных параметров, сохраняется);
* `GameState next_game_state( const GameState& s, const RoundParams& p, const Edict& e )` — переход к новому состоянию согласно правилам;
* `void game( const GameSave& s )` — игровой процесс;
* `void start_game()` — для запуска игры, с сохранения или заново.

### Сохранение

Пользователь может выйти в начале каждого раунда с автоматическим сохранением в файле. 
При повторном запуске можно продолжить предыдущую игру или начать заново.

В репозитории лежит [файл](./save.txt) сохранения после трёх сыгранных раундов.

### Пример вывода программы

Скопировал вывод из консоли в [output.txt](./output.txt).
```
Приветствуем тебя, о правитель!

Имеется сохранённый прогресс. Продолжить существующую игру? [y/n] n

Мой повелитель, соизволь поведать тебе
в году 1 твоего высочайшего правления
Население города составляет 100 человек.
В амбарах осталось 2800 бушелей пшеницы.
Город сейчас занимает 1000 акров.
1 акр земли стоит сейчас 18 бушелей.

Что пожелаешь, повелитель?
Сколько акров земли повелеваешь купить? 10
Сколько акров земли повелеваешь продать? 0
Сколько бушелей пшеницы повелеваешь съесть? 1800
Сколько акров земли повелеваешь засеять? 1000

Следуем вашим указам...

Мой повелитель, соизволь поведать тебе
в году 2 твоего высочайшего правления
10 человек умерли с голоду, и 17 человек прибыли в наш великий город.
Население города составляет 107 человек.
Мы собрали 2000 бушелей пшеницы, 2 бушеля с акра.
Крысы истребили 118 бушелей пшеницы, оставив 2202 бушеля в амбарах.
Город сейчас занимает 1010 акров.
1 акр земли стоит сейчас 26 бушелей.

Возможно, вы хотите прервать игру? [y/n] n

Что пожелаешь, повелитель?
Сколько акров земли повелеваешь купить? 0
Сколько акров земли повелеваешь продать? 10
Сколько бушелей пшеницы повелеваешь съесть? 1800
Сколько акров земли повелеваешь засеять? 1010
О, повелитель, пощади нас! У нас только 107 человек, 2202 бушеля пшеницы, и 1010 акров земли!

Сколько акров земли повелеваешь купить? 0
Сколько акров земли повелеваешь продать? 20
Сколько бушелей пшеницы повелеваешь съесть? 2100
Сколько акров земли повелеваешь засеять? 990

Следуем вашим указам...
```

